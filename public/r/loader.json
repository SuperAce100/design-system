{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "loader",
  "type": "registry:component",
  "title": "Loader",
  "description": "A collection of elegant loading indicators with progress support.",
  "dependencies": [
    "class-variance-authority"
  ],
  "files": [
    {
      "path": "registry/new-york/blocks/loader/loader.tsx",
      "content": "import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\n\nconst loaderVariants = cva(\"\", {\n  variants: {\n    variant: {\n      spinner: \"\",\n      dots: \"\",\n      pulse: \"\",\n      \"progress-bar\": \"\",\n      \"circular-progress\": \"\",\n      \"linear-progress\": \"\",\n    },\n    size: {\n      sm: \"\",\n      default: \"\",\n      lg: \"\",\n    },\n  },\n  defaultVariants: {\n    variant: \"spinner\",\n    size: \"default\",\n  },\n});\n\nconst sizeClasses = {\n  sm: {\n    spinner: \"size-4 border-2\",\n    dots: \"size-1.5\",\n    pulse: \"size-3\",\n    \"progress-bar\": \"h-1\",\n    \"circular-progress\": \"size-8\",\n    \"linear-progress\": \"h-1\",\n  },\n  default: {\n    spinner: \"size-6 border-2\",\n    dots: \"size-2\",\n    pulse: \"size-4\",\n    \"progress-bar\": \"h-2\",\n    \"circular-progress\": \"size-12\",\n    \"linear-progress\": \"h-2\",\n  },\n  lg: {\n    spinner: \"size-8 border-[3px]\",\n    dots: \"size-2.5\",\n    pulse: \"size-6\",\n    \"progress-bar\": \"h-3\",\n    \"circular-progress\": \"size-16\",\n    \"linear-progress\": \"h-3\",\n  },\n};\n\ninterface LoaderProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof loaderVariants> {\n  progress?: number; // 0-100\n}\n\nfunction Loader({ variant = \"spinner\", size = \"default\", progress, className, ...props }: LoaderProps) {\n  const sizeConfig = sizeClasses[size || \"default\"];\n\n  if (variant === \"spinner\") {\n    return (\n      <div\n        data-slot=\"loader\"\n        className={cn(\n          \"rounded-full border-primary/20 border-t-primary animate-spin\",\n          sizeConfig.spinner,\n          className\n        )}\n        {...props}\n      />\n    );\n  }\n\n  if (variant === \"dots\") {\n    return (\n      <div\n        data-slot=\"loader\"\n        className={cn(\"flex items-center gap-1.5\", className)}\n        {...props}\n      >\n        <div\n          className={cn(\n            \"rounded-full bg-primary animate-pulse\",\n            sizeConfig.dots,\n            \"animation-delay-0\"\n          )}\n          style={{\n            animationDelay: \"0ms\",\n            animation: \"pulse 1.4s ease-in-out infinite\",\n          }}\n        />\n        <div\n          className={cn(\n            \"rounded-full bg-primary animate-pulse\",\n            sizeConfig.dots,\n            \"animation-delay-200\"\n          )}\n          style={{\n            animationDelay: \"200ms\",\n            animation: \"pulse 1.4s ease-in-out infinite\",\n          }}\n        />\n        <div\n          className={cn(\n            \"rounded-full bg-primary animate-pulse\",\n            sizeConfig.dots,\n            \"animation-delay-400\"\n          )}\n          style={{\n            animationDelay: \"400ms\",\n            animation: \"pulse 1.4s ease-in-out infinite\",\n          }}\n        />\n      </div>\n    );\n  }\n\n  if (variant === \"pulse\") {\n    return (\n      <div\n        data-slot=\"loader\"\n        className={cn(\n          \"rounded-full bg-primary animate-pulse\",\n          sizeConfig.pulse,\n          className\n        )}\n        {...props}\n      />\n    );\n  }\n\n  if (variant === \"progress-bar\") {\n    const progressValue = progress !== undefined ? Math.max(0, Math.min(100, progress)) : undefined;\n    return (\n      <div\n        data-slot=\"loader\"\n        className={cn(\n          \"w-full rounded-full bg-primary/10 overflow-hidden relative\",\n          sizeConfig[\"progress-bar\"],\n          className\n        )}\n        {...props}\n      >\n        {progressValue !== undefined ? (\n          <div\n            className=\"h-full bg-primary rounded-full transition-all duration-300 ease-out\"\n            style={{\n              width: `${progressValue}%`,\n            }}\n          />\n        ) : (\n          <div className=\"h-full w-full bg-primary/20 rounded-full relative overflow-hidden\">\n            <div className=\"absolute inset-0 bg-primary rounded-full animate-[progress-shimmer_1.5s_ease-in-out_infinite] w-1/3\" />\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  if (variant === \"circular-progress\") {\n    const progressValue = progress !== undefined ? Math.max(0, Math.min(100, progress)) : undefined;\n    const circumference = 2 * Math.PI * 18; // radius = 18\n    const offset = progressValue !== undefined\n      ? circumference - (progressValue / 100) * circumference\n      : 0;\n\n    return (\n      <div\n        data-slot=\"loader\"\n        className={cn(\"relative inline-flex items-center justify-center\", className)}\n        {...props}\n      >\n        <svg\n          className={cn(sizeConfig[\"circular-progress\"], \"-rotate-90\")}\n          viewBox=\"0 0 44 44\"\n        >\n          <circle\n            cx=\"22\"\n            cy=\"22\"\n            r=\"18\"\n            stroke=\"currentColor\"\n            strokeWidth=\"3\"\n            fill=\"none\"\n            className=\"opacity-10\"\n          />\n          <circle\n            cx=\"22\"\n            cy=\"22\"\n            r=\"18\"\n            stroke=\"currentColor\"\n            strokeWidth=\"3\"\n            fill=\"none\"\n            strokeDasharray={circumference}\n            strokeDashoffset={progressValue !== undefined ? offset : circumference * 0.25}\n            strokeLinecap=\"round\"\n            className={cn(\n              \"transition-all duration-300 ease-out\",\n              progressValue === undefined && \"animate-spin\"\n            )}\n            style={{\n              animation: progressValue === undefined ? \"spin 1s linear infinite\" : undefined,\n            }}\n          />\n        </svg>\n        {progressValue !== undefined && (\n          <span className=\"absolute text-xs font-medium text-primary\">\n            {Math.round(progressValue)}%\n          </span>\n        )}\n      </div>\n    );\n  }\n\n  if (variant === \"linear-progress\") {\n    const progressValue = progress !== undefined ? Math.max(0, Math.min(100, progress)) : undefined;\n    return (\n      <div\n        data-slot=\"loader\"\n        className={cn(\n          \"w-full rounded-full bg-primary/10 overflow-hidden relative\",\n          sizeConfig[\"linear-progress\"],\n          className\n        )}\n        {...props}\n      >\n        {progressValue !== undefined ? (\n          <div\n            className=\"h-full bg-gradient-to-r from-primary via-primary/80 to-primary rounded-full transition-all duration-300 ease-out\"\n            style={{\n              width: `${progressValue}%`,\n            }}\n          />\n        ) : (\n          <div className=\"h-full w-full bg-primary/20 rounded-full relative overflow-hidden\">\n            <div className=\"absolute inset-0 bg-gradient-to-r from-primary via-primary/80 to-primary rounded-full animate-[linear-progress-shimmer_1.5s_ease-in-out_infinite] w-1/3\" />\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  return null;\n}\n\nexport { Loader, loaderVariants };\nexport type { LoaderProps };\n\n",
      "type": "registry:component",
      "target": "components/ui/loader.tsx"
    }
  ]
}